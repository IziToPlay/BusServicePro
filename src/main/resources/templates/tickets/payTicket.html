<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:include="fragments/head"></th:block>
<body>

	<th:block th:include="fragments/navbar"></th:block>
	<div class="container">

		<div class="card" style="max-width: 100%;">
			<div class="card-header">PAGAR TICKET</div>
			<div class="card-body">



				<form th:action="@{/tickets/searchCoupon}" method="get">

					<div class="form-row align-items-center">

						<div class="col-auto">
							<Label class="sr-only" for="special">Datos a completar</Label> <input
								id="special" type="text" class="form-control form-control-lg"
								name="special" placeholder="Ingrese cupon">
						</div>

						<div class="col-auto">
							<button type="submit" class="btn btn-primary">Buscar</button>
						</div>

					</div>
				</form>

				<table class="table table-striped">
					<thead>
						<tr>
							<th>Id</th>
							<th>Descripcion</th>
							<th>Descuento (%)</th>
							<th>Precio de viaje</th>
							<th>Total a pagar</th>
							<th></th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="coupon : ${coupons}">

							<td th:text="${coupon.id}">cruzSolar</td>
							<td th:text="${coupon.description}">cruzSolar</td>
							<td th:text="${coupon.discount}">cruzSolar</td>
							<td th:text="${coupon.trip.price}">cruzSolar</td>
                            <td th:text="*{coupon.calculatedAmount()}">cruzSolar</td>
                            <td><a th:href="@{'/tickets/updateStatus/'+ ${coupon.id}}"
								class="btn btn-primary">Utilizar</a></td>
						</tr>

					</tbody>
				</table>

				<a th:href="@{/tickets/list/}" class="btn btn-primary">Regresar</a>
                
               
			</div>
		</div>

	</div>
	<th:block th:include="fragments/scripts"></th:block>

</body>
</html>